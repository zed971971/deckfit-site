<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <link rel="icon" href="https://fitness-deck.emergent.host/favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="theme-color" content="#1E40AF">
  <meta name="description" content="DECKFIT - Application de fitness avec tirage de cartes d'exercices par Leroy Educateur Sportif">

  <!-- IcÃ´ne iOS (tu peux la remplacer par un chemin local si tu as l'image dans le repo) -->
  <link rel="apple-touch-icon" href="https://fitness-deck.emergent.host/icon-192.png">

  <!-- âœ… Manifeste PWA â€” chemin adaptÃ© pour GitHub Pages -->
  <link rel="manifest" href="/deckfit-site/manifest.webmanifest">

  <title>DECKFIT - Leroy Coaching 971</title>

  <script type="text/javascript" crossorigin="anonymous" async src="DECKFIT%20-%20Leroy%20Coaching%20971_fichiers/array.js"></script>
  <script defer="defer" src="DECKFIT%20-%20Leroy%20Coaching%20971_fichiers/main.ca2ac1c1.js"></script>
  <link href="DECKFIT%20-%20Leroy%20Coaching%20971_fichiers/main.e279b2ac.css" rel="stylesheet">
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>

  <div id="root">
    <div class="App font-leroy">
      <div class="min-h-screen bg-leroy-gradient flex flex-col items-center justify-center p-8 relative overflow-hidden">
        <div class="absolute inset-0 particle-field"></div>

        <button class="absolute top-6 left-6 bg-white bg-opacity-20 backdrop-blur-sm rounded-full p-3 text-white hover:bg-opacity-30 transition-all z-10" title="Aide - Comment utiliser DECKFIT">
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path>
          </svg>
        </button>

        <div class="cursor-pointer transition-all duration-300 hover:scale-105 active:scale-95 z-10">
          <div class="relative mb-8">
            <div class="w-72 h-72 mx-auto flex items-center justify-center">
              <div class="w-full h-full rounded-full border-4 border-white shadow-2xl logo-glow overflow-hidden">
                <img alt="LEROY Educateur Sportif" class="w-full h-full object-cover" style="display: block;" src="DECKFIT%20-%20Leroy%20Coaching%20971_fichiers/LOGO.jpg">
              </div>
            </div>
          </div>
          <div class="text-center">
            <h1 class="text-7xl font-black text-white mb-4 tracking-wider logo-font text-shadow-lg">DECKFIT</h1>
            <p class="text-xl text-leroy-light font-semibold">By leroycoaching971</p>
          </div>
        </div>

        <button class="absolute top-6 right-6 bg-white bg-opacity-20 backdrop-blur-sm rounded-full p-3 text-white hover:bg-opacity-30 transition-all">ðŸ”Š</button>
      </div>
    </div>
  </div>

  <script type="text/javascript" crossorigin="anonymous" src="DECKFIT%20-%20Leroy%20Coaching%20971_fichiers/web-vitals.js"></script>
  <script type="text/javascript" crossorigin="anonymous" src="DECKFIT%20-%20Leroy%20Coaching%20971_fichiers/surveys.js"></script>
  <script type="text/javascript" crossorigin="anonymous" src="DECKFIT%20-%20Leroy%20Coaching%20971_fichiers/dead-clicks-autocapture.js"></script>
  <script type="text/javascript" crossorigin="anonymous" src="DECKFIT%20-%20Leroy%20Coaching%20971_fichiers/lazy-recorder.js"></script>
  <script type="text/javascript" crossorigin="anonymous" src="DECKFIT%20-%20Leroy%20Coaching%20971_fichiers/config.js"></script>

  <!-- âœ… Enregistrement du Service Worker avec le bon scope pour GitHub Pages -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker
          .register('/deckfit-site/sw.js', { scope: '/deckfit-site/' })
          .then(reg => console.log('Service Worker enregistrÃ© :', reg))
          .catch(err => console.log('Ã‰chec de lâ€™enregistrement du SW :', err));
      });
    }
  </script>

  <!-- âœ… UI hors-ligne + fonctionnalitÃ©s (inchangÃ©) -->
  <script>
  document.addEventListener('DOMContentLoaded', function () {
    // âœ… Message hors ligne
    const box = document.createElement('div');
    box.id = 'df-offline';
    box.style = 'display:none;position:fixed;inset:0;background:#0f0f0f;color:#fff;z-index:9999;text-align:center;padding-top:20vh;font-family:sans-serif';
    box.innerHTML = '<h2>Vous Ãªtes hors ligne ðŸ“´</h2><p>Vos cartes restent disponibles.</p><button onclick="location.reload()" style="padding:10px 16px;border:0;border-radius:8px;background:#fff;color:#0f0f0f">RÃ©essayer</button>';
    document.body.appendChild(box);
    addEventListener('offline', () => box.style.display = 'block');
    addEventListener('online',  () => box.style.display = 'none');

    // âœ… Retour haptique sur boutons
    document.body.addEventListener('click', e => {
      const el = e.target.closest('[data-haptic]');
      if (!el) return;
      if (navigator.vibrate) navigator.vibrate(30);
    });

    // âœ… Partage natif (API Web Share)
    document.body.addEventListener('click', async e => {
      const el = e.target.closest('[data-share]');
      if (!el) return;
      try {
        if (navigator.share) {
          await navigator.share({
            title: 'DeckFit',
            text: "Je viens de terminer une sÃ©ance DeckFit ðŸ’ª !",
            url: window.location.href
          });
        } else {
          alert("Le partage n'est pas disponible sur cet appareil.");
        }
      } catch (_) {}
    });
  });
  </script>
</body>
</html>
